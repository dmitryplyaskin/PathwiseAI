# Виджет Test (Тестирование)

Переиспользуемый компонент для прохождения тестов с поддержкой различных типов вопросов.

## Структура

```
test/
├── types/
│   └── index.ts          # Типы для тестов и вопросов
├── mock/
│   └── testData.ts       # Моковые данные для тестирования
└── ui/
    ├── TestModal.tsx     # Основной компонент модального окна
    ├── QuizQuestion.tsx  # Компонент квиз-вопроса
    ├── TextQuestion.tsx  # Компонент текстового вопроса
    ├── TestResult.tsx    # Компонент результатов теста
    └── index.ts          # Экспорты
```

## Использование

```tsx
import { TestModal } from '@/widgets/test/ui';
import { mockTestData } from '@/widgets/test/mock/testData';

function MyComponent() {
  const [isTestOpen, setIsTestOpen] = useState(false);

  return (
    <>
      <Button onClick={() => setIsTestOpen(true)}>Пройти тест</Button>

      <TestModal
        open={isTestOpen}
        onClose={() => setIsTestOpen(false)}
        testData={mockTestData}
      />
    </>
  );
}
```

## Типы вопросов

### 1. Квиз (Quiz)

Вопрос с 4 вариантами ответа. При выборе варианта показывается правильный/неправильный ответ, и блокируется возможность изменить выбор.

```tsx
{
  id: 'q1',
  type: 'quiz',
  question: 'Что такое React?',
  options: [
    {
      id: 'opt1',
      text: 'Библиотека для создания UI',
      isCorrect: true,
    },
    // ... другие варианты
  ],
}
```

### 2. Текстовый вопрос (Text)

Вопрос с текстовым полем для ввода. При подтверждении отправляется запрос к LLM для проверки (на данный момент заглушка - всегда правильный ответ).

```tsx
{
  id: 'q2',
  type: 'text',
  question: 'Объясните, что такое виртуальный DOM?',
  expectedAnswer: 'Виртуальный DOM - это...',
}
```

## Функциональность

### Таймер

- Отображается в верхней части теста
- Показывает время прохождения в формате MM:SS
- Сохраняется в результатах

### Прогресс

- Линейный индикатор прогресса
- Показывает текущий вопрос и общее количество

### Кнопки управления

- **Дальше** - переход к следующему вопросу (активна только после ответа)
- **Пропустить вопрос** - пропуск вопроса (засчитывается как неправильный)

### Закрытие теста

- При попытке закрыть незавершенный тест показывается предупреждение
- Предупреждение автоматически скрывается через 5 секунд
- Можно принудительно закрыть тест через кнопку в предупреждении

### Результаты

- Показывается после завершения всех вопросов
- Отображает:
  - Эмоциональную иконку (зависит от процента правильных ответов)
  - Количество правильных ответов
  - Процент правильных ответов
  - Время прохождения
- Кнопка "Закрыть тестирование" для выхода

## Моковые данные

Для тестирования используются моковые данные из `mock/testData.ts`. В продакшене эти данные должны загружаться из API.

## TODO

- [ ] Интеграция с реальным API для загрузки тестов
- [ ] Реальная интеграция с LLM для проверки текстовых ответов
- [ ] Сохранение результатов тестов в базе данных
- [ ] Добавление дополнительных типов вопросов (множественный выбор, сортировка и т.д.)
- [ ] Возможность перемешивания вопросов
- [ ] Ограничение времени на тест

