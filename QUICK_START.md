# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

‚úÖ **–ë—ç–∫–µ–Ω–¥:**

- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `threadId` –≤ —Å—É—â–Ω–æ—Å—Ç—å ChatMessage
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ç–∫–∞–º–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç —É—Ä–æ–∫–∞ –≤ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è LLM
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã —É–¥–∞–ª–µ–Ω–∏—è –≤–µ—Ç–æ–∫ –∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤

‚úÖ **–§—Ä–æ–Ω—Ç–µ–Ω–¥:**

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç LessonPage
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ç–∫–∞–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–µ—Ç–∫–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã UI –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤–µ—Ç–æ–∫ –∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ö—Ä–∞—Å–∏–≤—ã–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –®–∞–≥–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PostgreSQL —á–µ—Ä–µ–∑ psql
psql -U your_username -d PathwiseAI -f migration-add-thread-id.sql

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é:
# ALTER TABLE chat_messages ADD COLUMN thread_id VARCHAR(255) DEFAULT 'main';
# UPDATE chat_messages SET thread_id = 'main' WHERE thread_id IS NULL;
# CREATE INDEX idx_chat_messages_thread_id ON chat_messages(thread_id);
# CREATE INDEX idx_chat_messages_chat_thread ON chat_messages(chat_id, thread_id);
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫–µ–Ω–¥

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)

# –û—á–∏—Å—Ç–∏—Ç—å dist –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
rm -rf dist/
npm run build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
npm run start:dev
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

```bash
cd frontend

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
npm run dev
# –∏–ª–∏
yarn dev
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —É—Ä–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫—É"
3. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É —É—Ä–æ–∫–∞
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ò–ò
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ç–∫—É –∫–Ω–æ–ø–∫–æ–π "–ù–æ–≤–∞—è –≤–µ—Ç–∫–∞"
6. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –º–µ–∂–¥—É –≤–µ—Ç–∫–∞–º–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é (–∏–∫–æ–Ω–∫–∞ —Å —á–∏—Å–ª–æ–º)

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–∏

1. –ù–∞–∂–º–∏—Ç–µ "–ù–æ–≤–∞—è –≤–µ—Ç–∫–∞" –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ –Ω–æ–≤–æ–π —Ç–µ–º–µ
3. –°—Ç–∞—Ä—ã–µ –≤–µ—Ç–∫–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–µ—Ç–∫–∞–º–∏

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–µ—Ç–æ–∫
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –≤–µ—Ç–∫—É –∏–∑ —Å–ø–∏—Å–∫–∞
3. –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –≥–∞–ª–æ—á–∫–æ–π

### –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ—Ç–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é –≤–µ—Ç–æ–∫
2. –ù–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É –∫–æ—Ä–∑–∏–Ω—ã —Ä—è–¥–æ–º —Å –≤–µ—Ç–∫–æ–π
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

### –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞

1. –ù–∞–∂–º–∏—Ç–µ "‚ãÆ" –Ω–∞ –ª—é–±–æ–º –æ—Ç–≤–µ—Ç–µ –ò–ò
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
3. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ /ask

**–ü—Ä–æ–±–ª–µ–º–∞:** `400 Bad Request: lessonId must be a UUID`  
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∏ –±—ç–∫–µ–Ω–¥ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

### –í–µ—Ç–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞–Ω–µ–ª—å –≤–µ—Ç–æ–∫ –ø—É—Å—Ç–∞  
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–¥–∞–π—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –≤–µ—Ç–∫—É

### –û—à–∏–±–∫–∞ "Cannot find module"

**–ü—Ä–æ–±–ª–µ–º–∞:** TypeScript –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–∏–ø—ã  
**–†–µ—à–µ–Ω–∏–µ:**

```bash
cd frontend
rm -rf node_modules
npm install
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞:** `main` - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–∞
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏:** `thread-{timestamp}` - —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ù–æ–≤–∞—è –≤–µ—Ç–∫–∞"
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç —É—Ä–æ–∫–∞:** –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –¥–ª—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–ò—Å—Ç–æ—Ä–∏—è:** –∫–∞–∂–¥–∞—è –≤–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- `AI_ASSISTANT_THREADS_GUIDE.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `migration-add-thread-id.sql` - SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –ë–î

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ (—Ñ—Ä–æ–Ω—Ç –∏ –±—ç–∫)
