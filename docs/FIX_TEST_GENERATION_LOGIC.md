# Исправление логики создания новых тестов

## Описание проблемы
Ранее система некорректно определяла, когда нужно создать новый тест, а когда — загрузить существующий для повторного прохождения. Решение основывалось на наличии параметров `mode` и `questionTypes`, что приводило к тому, что тест почти всегда генерировался заново, даже если пользователь нажимал "Пройти снова".

## Внесенные изменения

Внедрен явный флаг `forceNew` для управления генерацией тестов.

### Backend

**Файл:** `src/modules/exams/dto/generate-test.dto.ts`
Добавлено поле `forceNew` в DTO:
```typescript
@IsOptional()
forceNew?: boolean;
```

**Файл:** `src/modules/exams/services/exams.service.ts`
Изменено условие проверки в методе `getOrGenerateTestForLesson`. Теперь проверка идет строго по флагу `forceNew`.

```typescript
// Before
if (!mode && !questionTypes) { ... }

// After
if (!forceNew) { ... }
```

### Frontend

**Файл:** `frontend/src/shared/api/tests/types.ts`
Обновлен интерфейс `GenerateTestRequest`:
```typescript
export interface GenerateTestRequest {
  // ...
  forceNew?: boolean;
}
```

**Файл:** `frontend/src/widgets/lesson/ui/StickyInfoBlock.tsx`
Обновлен вызов API. Флаг `forceNew` устанавливается в `true`, только если переданы настройки (settings), что означает явный запрос пользователя на создание нового (кастомизированного) теста. Если настройки не переданы (нажатие "Начать тест" или "Пройти снова" на главном экране урока), `forceNew` будет `false`.

```typescript
forceNew: !!settings, // If settings are provided, it's a new generation request
```

## Как проверить

1. **Стандартный запуск / Повтор:**
   - Нажмите "Начать тест" или "Пройти снова" (без открытия шестеренки настроек).
   - **Результат:** Если тест уже был пройден, откроется именно он (предыдущая попытка). Если теста не было — создастся новый стандартный.

2. **Создание нового / Расширенного теста:**
   - Откройте настройки (иконка шестеренки).
   - Выберите параметры (например, "Углубленный").
   - Нажмите "Сгенерировать".
   - **Результат:** Всегда создается абсолютно новый тест с выбранными параметрами, независимо от наличия предыдущих попыток.

